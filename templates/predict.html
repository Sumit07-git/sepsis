<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Predict - Sepsis Early Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
</head>
<body>
        <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <img src="{{url_for('static', filename='images/image.png') }}"
                alt="Sepsis Prediction System logo"
                class="app-logo">
                <span>Sepsis Prediction System</span>
            </div>
            <ul class="nav-menu">
                <li><a href="/" class="nav-link"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="/predict" class="nav-link active"><i class="fas fa-stethoscope"></i> Predict</a></li>
                <li><a href="/about" class="nav-link"><i class="fas fa-info-circle"></i> About</a></li>
            </ul>
        </div>
    </nav>

        <div class="page-header">
        <div class="container">
            <h1><i class="fas fa-stethoscope"></i> Sepsis Risk Assessment</h1>
            <p>Enter patient demographics, vital signs, and laboratory values</p>
        </div>
    </div>

    <div class="container">
        <div class="prediction-layout">
                        <div class="prediction-form-container">
                <h2>Patient Data Input</h2>
                <form id="predictionForm" method="POST" action="/predict" class="prediction-form">
                    
                                        <div class="form-section">
                        <h3><i class="fas fa-user"></i> Patient Demographics</h3>
                        
                        <div class="demographics-row">
                            <div class="form-group">
                                <label for="Age">Age (years)</label>
                                <input type="number" id="Age" name="Age" class="form-control" 
                                       value="50" min="1" max="120" step="1" required>
                                <small>Age is a significant sepsis risk factor</small>
                            </div>
                            
                            <div class="form-group">
                                <label>Gender</label>
                                <div class="gender-select">
                                    <div class="gender-option">
                                        <input type="radio" id="male" name="Gender" value="1" checked>
                                        <label for="male">
                                            <i class="fas fa-mars"></i> Male
                                        </label>
                                    </div>
                                    <div class="gender-option">
                                        <input type="radio" id="female" name="Gender" value="0">
                                        <label for="female">
                                            <i class="fas fa-venus"></i> Female
                                        </label>
                                    </div>
                                </div>
                                <small>Gender affects sepsis risk and outcomes</small>
                            </div>
                        </div>
                    </div>

                                        <div class="form-section">
                        <h3><i class="fas fa-heartbeat"></i> Vital Signs</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="HR">Heart Rate (bpm)</label>
                                <input type="number" id="HR" name="HR" class="form-control" 
                                       value="80" min="40" max="180" step="1" required>
                                <small>Normal: 60-100 bpm</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="Temp">Temperature (°C)</label>
                                <input type="number" id="Temp" name="Temp" class="form-control" 
                                       value="37" min="34" max="42" step="0.1" required>
                                <small>Normal: 36.5-37.5°C</small>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="Resp">Respiratory Rate (breaths/min)</label>
                                <input type="number" id="Resp" name="Resp" class="form-control" 
                                       value="16" min="8" max="40" step="1" required>
                                <small>Normal: 12-20/min</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="O2Sat">Oxygen Saturation (%)</label>
                                <input type="number" id="O2Sat" name="O2Sat" class="form-control" 
                                       value="95" min="70" max="100" step="1" required>
                                <small>Normal: >95%</small>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="SBP">Systolic BP (mmHg)</label>
                                <input type="number" id="SBP" name="SBP" class="form-control" 
                                       value="120" min="60" max="200" step="1" required>
                                <small>Normal: 90-120 mmHg</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="DBP">Diastolic BP (mmHg)</label>
                                <input type="number" id="DBP" name="DBP" class="form-control" 
                                       value="70" min="30" max="120" step="1" required>
                                <small>Normal: 60-80 mmHg</small>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="MAP">Mean Arterial Pressure (mmHg)</label>
                                <input type="number" id="MAP" name="MAP" class="form-control" 
                                       value="80" min="40" max="140" step="1" required>
                                <small>Normal: 70-100 mmHg (Auto-calculated)</small>
                            </div>
                        </div>
                    </div>

                                        <div class="form-section">
                        <h3><i class="fas fa-flask"></i> Laboratory Values</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="WBC">White Blood Cell Count (×10³/μL)</label>
                                <input type="number" id="WBC" name="WBC" class="form-control" 
                                       value="8" min="1" max="30" step="0.1" required>
                                <small>Normal: 4-11 ×10³/μL</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="Platelets">Platelets (×10³/μL)</label>
                                <input type="number" id="Platelets" name="Platelets" class="form-control" 
                                       value="200" min="20" max="500" step="1" required>
                                <small>Normal: 150-400 ×10³/μL</small>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="Creatinine">Creatinine (mg/dL)</label>
                                <input type="number" id="Creatinine" name="Creatinine" class="form-control" 
                                       value="1.0" min="0.3" max="8" step="0.1" required>
                                <small>Normal: 0.6-1.2 mg/dL</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="Lactate">Lactate (mmol/L)</label>
                                <input type="number" id="Lactate" name="Lactate" class="form-control" 
                                       value="1.5" min="0.5" max="10" step="0.1" required>
                                <small>Normal: 0.5-2.2 mmol/L</small>
                            </div>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-large">
                            <i class="fas fa-calculator"></i> Calculate Risk
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="loadSepsisExample()">
                            <i class="fas fa-exclamation-triangle"></i> Sepsis Example
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="loadNormalExample()">
                            <i class="fas fa-check"></i> Normal Example
                        </button>
                    </div>
                </form>
            </div>

                        <div class="prediction-result">
                <h2>Quick Reference</h2>
                
                <div class="risk-details">
                    <h4><i class="fas fa-info-circle"></i> About This Assessment</h4>
                    <p>This AI-powered system analyzes patient data including:</p>
                    <ul>
                        <li><strong>Demographics:</strong> Age and gender</li>
                        <li><strong>Vital Signs:</strong> HR, BP, Temp, RR, O2Sat</li>
                        <li><strong>Lab Values:</strong> WBC, Platelets, Creatinine, Lactate</li>
                        <li><strong>Clinical Scores:</strong> SOFA, SIRS, qSOFA</li>
                    </ul>

                    <h4><i class="fas fa-flag"></i> Risk Categories</h4>
                    <ul>
                        <li><strong>VERY HIGH (≥70%):</strong> Critical risk, immediate intervention</li>
                        <li><strong>HIGH (50-69%):</strong> Elevated risk, urgent review needed</li>
                        <li><strong>MODERATE (30-49%):</strong> Some concerns, enhanced monitoring</li>
                        <li><strong>LOW (&lt;30%):</strong> Minimal risk, routine care</li>
                    </ul>

                    <h4><i class="fas fa-user-shield"></i> Age & Gender Factors</h4>
                    <ul>
                        <li><strong>Age ≥65:</strong> Increased sepsis risk and mortality</li>
                        <li><strong>Age ≥75:</strong> Very high risk group</li>
                        <li><strong>Males:</strong> Slightly higher sepsis incidence</li>
                        <li><strong>Elderly Males:</strong> Highest risk combination</li>
                    </ul>

                    <h4><i class="fas fa-heartbeat"></i> Normal Ranges</h4>
                    <ul>
                        <li><strong>Heart Rate:</strong> 60-100 bpm</li>
                        <li><strong>Temp:</strong> 36.5-37.5°C</li>
                        <li><strong>Resp Rate:</strong> 12-20/min</li>
                        <li><strong>O2 Sat:</strong> >95%</li>
                        <li><strong>SBP:</strong> 90-120 mmHg</li>
                        <li><strong>MAP:</strong> 70-100 mmHg</li>
                        <li><strong>WBC:</strong> 4-11 ×10³/μL</li>
                        <li><strong>Platelets:</strong> 150-400 ×10³/μL</li>
                        <li><strong>Creatinine:</strong> 0.6-1.2 mg/dL</li>
                        <li><strong>Lactate:</strong> 0.5-2.2 mmol/L</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

        <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Sepsis Early Prediction System | Machine Learning for Healthcare</p>
            <p class="disclaimer">This system is for educational and research purposes only. Not for clinical use.</p>
        </div>
    </footer>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>